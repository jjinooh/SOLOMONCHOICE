<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>솔로몬의 선택: 내 연애 성향은 에겐? 테토?</title>
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
    <script>
      Kakao.init('c2788857d449e26583d58b707ee0abb0');
    </script>

    <style>
        .main-title {
          font-size: 2rem;
        }

    @media (min-width: 768px) {
        .main-title {
          font-size: 2.8rem;
        }
      }
        body {
            font-family: "Arial", "Noto Sans KR", sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            text-align: center;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: #fff;
            margin: 20px auto;
            width: 420px;
            height: auto;
            min-height: 420px;
            max-height: 600px;
            overflow-y: auto;
            padding: 70px 20px 30px 20px;
            box-sizing: border-box;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .page-title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 40px);
            text-align: center;
            font-size: 16px;
            color: #FF1493;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            z-index: 10;
        }
h1 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #FF1493;
        }
        p {
            font-size: 13px;
            line-height: 1.4;
            margin-bottom: 15px;
        }
        .question-container {
            text-align: left;
            padding-top: 50px;
        }
        .question {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            line-height: 1.7;
            word-break: keep-all;
            overflow-wrap: break-word;
            white-space: normal;
        }
        .options {
            margin-bottom: 20px;
        }
        .option {
            display: block;
            background-color: #f1f1f1;
            border-radius: 5px;
            padding: 12px 15px;
            margin-bottom: 10px;
            font-size: 15px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            word-break: keep-all;
            white-space: normal;
            line-height: 1.5;
        }
        .option:hover {
            background-color: #e6e6e6;
            transform: translateY(-1px);
        }
        .option.selected {
            background-color: #ff8dc7;
            color: white;
            font-weight: bold;
            border: 1px solid #ff1493;
        }
        button {
            background-color: #ff3c7e;
            color: white;
            border: none;
            padding: 8px 16px;
            font-size: 13px;
            border-radius: 20px;
            cursor: pointer;
            margin: 5px;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #e1326f;
        }
        .start-btn {
            padding: 10px 20px;
            font-size: 14px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        .prev-btn, .next-btn {
            flex-grow: 1;
            margin: 0 5px;
        }
        .prev-btn:disabled, .next-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
.result-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #e1326f;
        }
        .result-description {
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 20px;
            text-align: center;
        }
        .comment {
            font-size: 11px;
            color: #777;
            position: relative;
            margin-top: 15px;
            width: 90%;
            text-align: center;
        }
        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }
        .share-container {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            margin-bottom: 15px;
        }
        .share-btn {
            flex: 0 0 auto;
            margin: 2px;
            white-space: nowrap;
            min-width: fit-content;
            font-size: 11px;
            padding: 6px 10px;
            border-radius: 15px;
            background-color: #6c757d;
            color: white;
        }
        .share-btn:hover {
            background-color: #5a6268;
        }
        .apply-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .apply-section p {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 10px;
        }
        .apply-section a {
            display: inline-block;
            background-color: #e1326f;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 15px;
            margin-top: 5px;
            transition: background-color 0.2s;
        }
        .apply-section a:hover {
            background-color: #ff3c7e;
        }
        .made-by {
            font-size: 11px;
            color: #b0b0b0;
            font-weight: bold;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed #eee;
        }
        .progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 5px;
            height: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            width: 0;
            background-color: #ff1493;
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }
        @media (max-width: 450px) {
            body {
                padding: 10px;
            }
            .container {
                width: 95vw;
                height: auto;
                min-height: 95vw;
                max-height: 600px;
                margin: 0 auto;
                padding: 50px 15px 20px 15px;
            }
            .page-title {
                font-size: 14px;
            }
            h1 {
                font-size: 16px;
            }
            p {
                font-size: 12px;
            }
            .question {
                font-size: 15px;
            }
            .option {
                font-size: 14px;
                padding: 8px 12px;
            }
            .result-title {
                font-size: 20px;
            }
            .result-description {
                font-size: 14px;
            }
            .share-btn, .restart-btn, button {
                font-size: 12px;
                padding: 6px 10px;
            }
            .apply-section p {
                font-size: 13px;
            }
            .apply-section a {
                font-size: 13px;
                padding: 6px 12px;
            }
            .made-by {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- 상단 페이지 제목 -->
    <div class="page-title">솔로몬의 선택: 내 연애 성향은 에겐? 테토?</div>

    <!-- 인트로 화면 -->
    <div class="container" id="intro">
        <h1>솔로몬의 선택 💘: 내 연애 성향은 에겐 or 테토?</h1>
        <p>사랑 앞에서 내가 왜 이러지? 궁금했다면, 이제 알아볼 시간!</p>
        <p><strong>12가지 문항</strong>에 답하고, 당신의 연애 성향 타입을 확인해보세요.</p>
        <button class="start-btn" id="startBtn">테스트 시작하기</button>
        <div class="comment">
            "너무 깊게 생각하지 마세요! 그저 재미로 즐겨주세요."<br>
            "본 테스트는 오락용이며, 실제 과학적 근거와는 무관합니다."
        </div>
    </div>

    <!-- 질문 화면 -->
    <div class="container" id="questionContainer">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="question" id="questionText"></div>
        <div class="options" id="optionsContainer"></div>
    </div>

    <!-- 결과 화면 -->
    <div class="container" id="resultContainer">
        <div class="result-title" id="resultTitle"></div>
        <div class="result-description" id="resultDescription"></div>

        <div class="button-container">
            <button class="share-my-result-btn" id="shareMyResultBtn">내 결과 공유하기</button>
            <button class="restart-btn" id="restartBtn">다시 테스트하기</button>
        </div>

        <div class="share-container" id="shareOptionContainer" style="display: none;">
            <button class="share-btn" id="copyUrl">링크 복사</button>
            <button class="share-btn" id="shareKakao">카카오톡</button>
            <button class="share-btn" id="shareFacebook">페이스북</button>
            <button class="share-btn" id="shareLine">라인</button>
            <button class="share-btn" id="shareX">X (트위터)</button>
        </div>

        <div class="apply-section">
            <p>내 이상형을 만나고 싶다면?</p>
            <p>성남시 청춘남녀 만남행사 'SOLO MON의 선택'에 참가하세요!</p>
            <a href="https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1" target="_blank">행사 신청하러 가기</a>
        </div>

        <div class="made-by">Made by JJINO #현실주의테토녀 </div>
    </div>
<script>
        // DOM 요소 가져오기
        const introSection = document.getElementById('intro');
        const questionSection = document.getElementById('questionContainer');
        const resultSection = document.getElementById('resultContainer');
        const startBtn = document.getElementById('startBtn');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const resultTitle = document.getElementById('resultTitle');
        const resultDescription = document.getElementById('resultDescription');
        const restartBtn = document.getElementById('restartBtn');

        // 공유 관련 버튼
        const shareMyResultBtn = document.getElementById('shareMyResultBtn');
        const shareOptionContainer = document.getElementById('shareOptionContainer');
        const copyUrlBtn = document.getElementById('copyUrl');
        const shareKakaoBtn = document.getElementById('shareKakao');
        const shareFacebookBtn = document.getElementById('shareFacebook');
        const shareLineBtn = document.getElementById('shareLine');
        const shareXBtn = document.getElementById('shareX');

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let egenScore = 0;
        let tetoScore = 0;

        const questions = [
         {
            question: "1. 애인이 당신과의 사진으로 영상을 편집해서 보냈을 때 당신은?",
            options: [
              { text: "우와 감동이야… 진짜 고마워!", type: "egen" },
              { text: "몇 시간 걸렸어? 자막 폰트 바꾸면 완벽할 듯?", type: "teto" }
            ]
          },
          {
            question: "2. 친구가 '현타 왔다'고 말할 때 당신은?",
            options: [
              { text: "그럴 줄 알았어. 내가 얘기했지?", type: "teto" },
              { text: "괜찮아? 무슨 일이야?", type: "egen" }
            ]
          },
          {
            question: "3. 영화에서 주인공이 이별할 때 당신은?",
            options: [
              { text: "마음 아프다... 이 장면 너무 슬퍼.", type: "egen" },
              { text: "이별 개연성 있었네. 현실적 결말이지.", type: "teto" }
            ]
          },
          {
            question: "4. 애인이 '나 살찐 것 같아'라고 할 때 당신은?",
            options: [
              { text: "그럼 같이 식단 조절 해보자!", type: "teto" },
              { text: "내 눈엔 항상 예뻐~♥", type: "egen" }
            ]
          },
          {
            question: "5. 데이트 날 '오늘 뭐 할까?' 라고 할 때 당신은?",
            options: [
              { text: "그날 기분 보고 유동적으로 정하지!", type: "egen" },
              { text: "스케줄 우선순위부터 정해야지!", type: "teto" }
            ]
          },
          {
            question: "6. 친구와 싸웠을 때 가장 먼저 드는 생각은?",
            options: [
              { text: "왜 싸웠는지 분석부터 해야지.", type: "teto" },
              { text: "내가 상처 준 건 아닐까?", type: "egen" }
            ]
          },
          {
            question: "7. 애인이 과감한 데이트룩을 입고 나왔을 때 당신은?",
            options: [
              { text: "스타일이 바뀌었네? 어떤 의도였을까?", type: "teto" },
              { text: "헐 완전 새롭고 매력적이야!", type: "egen" }
            ]
          },
          {
            question: "8. 모임 정산 후 138,500원이 남았다면?",
            options: [
              { text: "소액 기부하거나 커피 돌릴까?", type: "egen" },
              { text: "남은 금액은 다음 회비에서 공제!", type: "teto" }
            ]
          },
          {
            question: "9. 새로운 도전이 너무 힘들 땐?",
            options: [
              { text: "지금 전략으로는 비효율이야. 수정하자.", type: "teto" },
              { text: "응원해주는 사람들 생각하며 다시 힘내!", type: "egen" }
            ]
          },
          {
            question: "10. 해외여행 숙소를 고를 때 가장 중요한 건?",
            options: [
              { text: "위치, 교통, 동선 최적화!", type: "teto" },
              { text: "분위기와 감성, 뷰가 최고지!", type: "egen" }
            ]
          },
          {
            question: "11. 애인이 서프라이즈 이벤트 준비 중이라면?",
            options: [
              { text: "실패할까 걱정돼... 모른 척 해주자.", type: "egen" },
              { text: "행동 패턴이 이상한데? 예측해보자.", type: "teto" }
            ]
          },
          {
            question: "12. 넋 나간 친구를 발견했을 때 당신의 외침은?",
            options: [
              { text: "지금 위험해 보여. 안전한 곳으로 가자.", type: "teto" },
              { text: "무슨 일 있어? 말해봐. 내가 옆에 있어줄게.", type: "egen" }
            ]
          }
        ];

        const results = {
          'egen_extreme': {
          title: "순도 100% 감성형 '촉촉한 눈망울' 에겐 🥺",
          description: "사소한 말에도 감정이입, 작은 행동에도 눈물샘 폭발! 당신은 감성으로 세상을 해석하는 순도 높은 감정파입니다. 당신을 따뜻하게 안아줄 사람이 필요해요."
        },
          'egen_pure': {
          title: "따뜻한 공감러 '말랑 감성' 에겐 🌷",
          description: "마음이 따뜻하고 사람에 대한 애정이 많은 당신. 공감 능력이 뛰어나고 타인을 배려하는 모습에 사람들이 편안함을 느껴요."
        },
          'balanced_mixed': {
          title: "밀당 고수 '에그또' 💘✨",
          description: "에겐+테토=에그또! 감성과 이성 사이를 자유롭게 넘나드는 당신. 상황에 따라 완급조절이 뛰어난 반전 매력의 소유자예요."
        },
          'teto_pure': {
          title: "팩트 폭격기 '현실주의' 테토 🧠",
          description: "감정보다는 사실, 분석이 먼저인 당신. 연애에서도 실용성과 효율을 중요시하며, 함께 성장할 수 있는 관계를 지향해요."
        },
          'teto_extreme': {
          title: "냉철한 이성형 'AI급 논리' 테토 🤖",
          description: "논리, 분석, 계획이 삶의 중심! 감정은 비효율이라 여길 만큼 철저한 사고파. 하지만 이런 당신의 스마트한 매력에 끌리는 사람도 많답니다."
         }
       };
const eventDescriptions = [
            '📣 ‘솔로몬의 선택’은 성남시 청년들이 모여 새로운 인연을 맺는 만남행사다.',
            '💑 실제 커플이 탄생하고 결혼·출산까지 이어진 사례를 보유하고 있다.',
            '💍 누적 커플 수는 3년간 398쌍에 달한다.',
            '📊 참가자 평균 매칭률은 약 49.1%로 매우 높은 편이다.',
            '📰 뉴욕타임스, BBC, 로이터도 소개한 글로벌 핫이슈 행사!',
            '🧠 KAIST AI 대학원과 협력한 AI 매칭 알고리즘 기반!',
            '🎯 로테이션 토크, 연애 코칭 등 다채로운 콘텐츠 운영 중!',
            '🧭 평균 경쟁률 약 6:1! 신청 타이밍이 관건이다!',
            '📣 전국 지자체 벤치마킹 대상이 되는 대표적 청년 행사!',
            '👍 실제 참가자 만족도 또한 매우 높다.',
            '🎟️ 매회 100명 랜덤 선발로 특별한 기회 제공!',
            '🕰️ 2023년부터 지금까지 꾸준히 운영되고 있는 행사다.'
        ];

        function displayQuestion(index) {
            if (index < 0 || index >= questions.length) return;

            currentQuestionIndex = index;
            questionText.textContent = questions[index].question;
            optionsContainer.innerHTML = '';

            questions[index].options.forEach((option, i) => {
                const div = document.createElement('div');
                div.classList.add('option');
                div.textContent = option.text;
                div.dataset.type = option.type;
                div.dataset.index = i;

                if (userAnswers[index] && userAnswers[index].index === i) {
                    div.classList.add('selected');
                }

                div.addEventListener('click', () => selectOption(div, index));
                optionsContainer.appendChild(div);
            });

            const existing = questionSection.querySelector('.event-description-text');
            if (existing) existing.remove();

            const desc = document.createElement('p');
            desc.classList.add('event-description-text');
            if (index < eventDescriptions.length) {
                desc.textContent = eventDescriptions[index];
                const nav = questionSection.querySelector('.navigation');
                questionSection.insertBefore(desc, nav);
            }

            updateNavigationButtons();
            updateProgressBar();
            questionSection.scrollTop = 0;
        }

       function selectOption(selectedDiv, index) {
            Array.from(optionsContainer.children).forEach(option => {
                option.classList.remove('selected');
            });
            selectedDiv.classList.add('selected');

            userAnswers[index] = {
                type: selectedDiv.dataset.type,
                index: parseInt(selectedDiv.dataset.index)
            };

    // 자동 다음 질문으로 이동
            setTimeout(() => {
                if (index < questions.length - 1) {
                    displayQuestion(index + 1);
                } else {
                    calculateAndDisplayResult();
                }
            }, 300); // 살짝 딜레이 줘서 선택 효과 보여줌
        }
        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = (currentQuestionIndex === questions.length - 1) ? '결과보기' : '다음';
            nextBtn.disabled = userAnswers[currentQuestionIndex] === undefined;
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function calculateAndDisplayResult() {
            egenScore = 0;
            tetoScore = 0;

            userAnswers.forEach(answer => {
                if (answer?.type === 'egen') egenScore++;
                if (answer?.type === 'teto') tetoScore++;
            });

            const resultKey = getResultKey();
            const result = results[resultKey];

            resultTitle.innerHTML = result.title;
            resultDescription.innerHTML = result.description;

            const existing = questionSection.querySelector('.event-description-text');
            if (existing) existing.remove();

            questionSection.style.display = 'none';
            resultSection.style.display = 'flex';
            resultSection.scrollTop = 0;
        }

        function getResultKey() {
          if (egenScore >= 11) return 'egen_extreme';         // 에겐 극단
          if (egenScore >= 9) return 'egen_pure';             // 에겐 순수
          if (egenScore >= 6) return 'balanced_mixed';        // 균형형
          if (egenScore >= 3) return 'teto_pure';             // 테토 순수
          return 'teto_extreme';                              // 테토 극단
        }
// 시작 버튼 클릭 시
        startBtn.addEventListener('click', () => {
            introSection.style.display = 'none';
            questionSection.style.display = 'flex';
            displayQuestion(currentQuestionIndex);
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                displayQuestion(currentQuestionIndex - 1);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (userAnswers[currentQuestionIndex] !== undefined) {
                if (currentQuestionIndex < questions.length - 1) {
                    displayQuestion(currentQuestionIndex + 1);
                } else {
                    calculateAndDisplayResult();
                }
            } else {
                alert('답변을 선택해주세요!');
            }
        });

        restartBtn.addEventListener('click', () => {
            currentQuestionIndex = 0;
            userAnswers = [];
            egenScore = 0;
            tetoScore = 0;
            shareOptionContainer.style.display = 'none';
            resultSection.style.display = 'none';
            introSection.style.display = 'flex';
            progressBar.style.width = '0%';
        });

        shareMyResultBtn.addEventListener('click', () => {
            shareOptionContainer.style.display =
                (shareOptionContainer.style.display === 'none' || shareOptionContainer.style.display === '')
                    ? 'flex' : 'none';
        });

        const SOLO_MON_APPLY_LINK = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";

        copyUrlBtn.addEventListener('click', () => {
            const result = results[getResultKey()];
            const shareText = `[솔로몬의 선택] 내 연애 성향은?\n${result.title}\n${result.description}\n\n👉 행사 신청하기: ${SOLO_MON_APPLY_LINK}\n🔗 테스트 바로가기: ${window.location.href}`;
            const el = document.createElement('textarea');
            el.value = shareText;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            alert('링크가 복사되었습니다!');
        });

        shareKakaoBtn.addEventListener('click', () => {
            const result = results[getResultKey()];
            Kakao.Share.sendDefault({
                objectType: 'text',
                text: `📊 솔로몬의 선택 연애 성향 테스트 결과\n\n${result.title}\n\n${result.description}\n\n👉 행사 신청하러 가기 🔗 ${SOLO_MON_APPLY_LINK}`,
                link: {
                    mobileWebUrl: window.location.href,
                    webUrl: window.location.href,
                },
                buttons: [
                    {
                        title: '🔄 테스트 다시 하기',
                        link: {
                            mobileWebUrl: window.location.href,
                            webUrl: window.location.href,
                        },
                    }
                ],
            });
        });

        shareFacebookBtn.addEventListener('click', () => {
            const result = results[getResultKey()];
            const shareText = `[솔로몬의 선택] 내 연애 성향은?\n${result.title}\n${result.description}\n\n행사 신청: ${SOLO_MON_APPLY_LINK}`;
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(shareText)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        });

        shareLineBtn.addEventListener('click', () => {
            const result = results[getResultKey()];
            const shareText = `[솔로몬의 선택] 내 연애 성향은?\n${result.title}\n${result.description}\n\n행사 신청: ${SOLO_MON_APPLY_LINK}`;
            const shareUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(shareText)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        });

        shareXBtn.addEventListener('click', () => {
            const result = results[getResultKey()];
            const shareText = `[솔로몬의 선택] 내 연애 성향은?\n${result.title} - ${result.description}\n행사 신청: ${SOLO_MON_APPLY_LINK}`;
            const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(window.location.href)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        });

        // 페이지 로드 시 초기화
        window.addEventListener('load', () => {
            document.querySelectorAll('.container').forEach(el => el.style.display = 'none');
            introSection.style.display = 'flex';
        });
    </script>
</body>
</html>
